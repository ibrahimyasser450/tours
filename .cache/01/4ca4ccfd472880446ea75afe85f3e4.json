{"id":"../../node_modules/pbkdf2/lib/async.js","dependencies":[{"name":"C:\\Users\\Dell\\Downloads\\4-natours\\package.json","includedInParent":true,"mtime":1738438436952},{"name":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\package.json","includedInParent":true,"mtime":1737568454455},{"name":"safe-buffer","loc":{"line":1,"column":21,"index":21},"parent":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\async.js","resolved":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\safe-buffer\\index.js"},{"name":"./precondition","loc":{"line":3,"column":30,"index":74},"parent":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\async.js","resolved":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\precondition.js"},{"name":"./default-encoding","loc":{"line":4,"column":30,"index":122},"parent":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\async.js","resolved":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\default-encoding.js"},{"name":"./sync","loc":{"line":5,"column":19,"index":163},"parent":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\async.js","resolved":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\sync-browser.js"},{"name":"./to-buffer","loc":{"line":6,"column":23,"index":196},"parent":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\async.js","resolved":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\pbkdf2\\lib\\to-buffer.js"}],"generated":{"js":"\nvar global = arguments[3];\nvar Buffer = require('safe-buffer').Buffer;\nvar checkParameters = require('./precondition');\nvar defaultEncoding = require('./default-encoding');\nvar sync = require('./sync');\nvar toBuffer = require('./to-buffer');\nvar ZERO_BUF;\nvar subtle = global.crypto && global.crypto.subtle;\nvar toBrowser = {\n  sha: 'SHA-1',\n  'sha-1': 'SHA-1',\n  sha1: 'SHA-1',\n  sha256: 'SHA-256',\n  'sha-256': 'SHA-256',\n  sha384: 'SHA-384',\n  'sha-384': 'SHA-384',\n  'sha-512': 'SHA-512',\n  sha512: 'SHA-512'\n};\nvar checks = [];\nfunction checkNative(algo) {\n  if (global.process && !global.process.browser) {\n    return Promise.resolve(false);\n  }\n  if (!subtle || !subtle.importKey || !subtle.deriveBits) {\n    return Promise.resolve(false);\n  }\n  if (checks[algo] !== undefined) {\n    return checks[algo];\n  }\n  ZERO_BUF = ZERO_BUF || Buffer.alloc(8);\n  var prom = browserPbkdf2(ZERO_BUF, ZERO_BUF, 10, 128, algo).then(function () {\n    return true;\n  }).catch(function () {\n    return false;\n  });\n  checks[algo] = prom;\n  return prom;\n}\nvar nextTick;\nfunction getNextTick() {\n  if (nextTick) {\n    return nextTick;\n  }\n  if (global.process && global.process.nextTick) {\n    nextTick = global.process.nextTick;\n  } else if (global.queueMicrotask) {\n    nextTick = global.queueMicrotask;\n  } else if (global.setImmediate) {\n    nextTick = global.setImmediate;\n  } else {\n    nextTick = global.setTimeout;\n  }\n  return nextTick;\n}\nfunction browserPbkdf2(password, salt, iterations, length, algo) {\n  return subtle.importKey('raw', password, {\n    name: 'PBKDF2'\n  }, false, ['deriveBits']).then(function (key) {\n    return subtle.deriveBits({\n      name: 'PBKDF2',\n      salt: salt,\n      iterations: iterations,\n      hash: {\n        name: algo\n      }\n    }, key, length << 3);\n  }).then(function (res) {\n    return Buffer.from(res);\n  });\n}\nfunction resolvePromise(promise, callback) {\n  promise.then(function (out) {\n    getNextTick()(function () {\n      callback(null, out);\n    });\n  }, function (e) {\n    getNextTick()(function () {\n      callback(e);\n    });\n  });\n}\nmodule.exports = function (password, salt, iterations, keylen, digest, callback) {\n  if (typeof digest === 'function') {\n    callback = digest;\n    digest = undefined;\n  }\n  digest = digest || 'sha1';\n  var algo = toBrowser[digest.toLowerCase()];\n  if (!algo || typeof global.Promise !== 'function') {\n    getNextTick()(function () {\n      var out;\n      try {\n        out = sync(password, salt, iterations, keylen, digest);\n      } catch (e) {\n        return callback(e);\n      }\n      callback(null, out);\n    });\n    return;\n  }\n  checkParameters(iterations, keylen);\n  password = toBuffer(password, defaultEncoding, 'Password');\n  salt = toBuffer(salt, defaultEncoding, 'Salt');\n  if (typeof callback !== 'function') throw new Error('No callback provided to pbkdf2');\n  resolvePromise(checkNative(algo).then(function (resp) {\n    if (resp) return browserPbkdf2(password, salt, iterations, keylen, algo);\n    return sync(password, salt, iterations, keylen, digest);\n  }), callback);\n};"},"sourceMaps":null,"error":null,"hash":"126d299a9ed3b7aafb9454df4bc15c7c","cacheData":{"env":{}}}