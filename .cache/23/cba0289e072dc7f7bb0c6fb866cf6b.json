{"id":"../../node_modules/multer/lib/file-appender.js","dependencies":[{"name":"C:\\Users\\Dell\\Downloads\\4-natours\\package.json","includedInParent":true,"mtime":1738438436952},{"name":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\multer\\package.json","includedInParent":true,"mtime":1737809511798},{"name":"object-assign","loc":{"line":1,"column":27,"index":27},"parent":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\multer\\lib\\file-appender.js","resolved":"C:\\Users\\Dell\\Downloads\\4-natours\\node_modules\\object-assign\\index.js"}],"generated":{"js":"var objectAssign = require('object-assign');\nfunction arrayRemove(arr, item) {\n  var idx = arr.indexOf(item);\n  if (~idx) arr.splice(idx, 1);\n}\nfunction FileAppender(strategy, req) {\n  this.strategy = strategy;\n  this.req = req;\n  switch (strategy) {\n    case 'NONE':\n      break;\n    case 'VALUE':\n      break;\n    case 'ARRAY':\n      req.files = [];\n      break;\n    case 'OBJECT':\n      req.files = Object.create(null);\n      break;\n    default:\n      throw new Error('Unknown file strategy: ' + strategy);\n  }\n}\nFileAppender.prototype.insertPlaceholder = function (file) {\n  var placeholder = {\n    fieldname: file.fieldname\n  };\n  switch (this.strategy) {\n    case 'NONE':\n      break;\n    case 'VALUE':\n      break;\n    case 'ARRAY':\n      this.req.files.push(placeholder);\n      break;\n    case 'OBJECT':\n      if (this.req.files[file.fieldname]) {\n        this.req.files[file.fieldname].push(placeholder);\n      } else {\n        this.req.files[file.fieldname] = [placeholder];\n      }\n      break;\n  }\n  return placeholder;\n};\nFileAppender.prototype.removePlaceholder = function (placeholder) {\n  switch (this.strategy) {\n    case 'NONE':\n      break;\n    case 'VALUE':\n      break;\n    case 'ARRAY':\n      arrayRemove(this.req.files, placeholder);\n      break;\n    case 'OBJECT':\n      if (this.req.files[placeholder.fieldname].length === 1) {\n        delete this.req.files[placeholder.fieldname];\n      } else {\n        arrayRemove(this.req.files[placeholder.fieldname], placeholder);\n      }\n      break;\n  }\n};\nFileAppender.prototype.replacePlaceholder = function (placeholder, file) {\n  if (this.strategy === 'VALUE') {\n    this.req.file = file;\n    return;\n  }\n  delete placeholder.fieldname;\n  objectAssign(placeholder, file);\n};\nmodule.exports = FileAppender;"},"sourceMaps":null,"error":null,"hash":"39d9b0f837073b71a1b37a10db9a3ccb","cacheData":{"env":{}}}